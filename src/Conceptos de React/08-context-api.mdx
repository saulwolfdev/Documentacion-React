import { CodeBlock } from '../components-mdx/index.js';

# Context API

Es un hook en React que te permite suscribirte al contexto de React sin introducir niveles adicionales de anidación en tu componente. 
El contexto en React es una forma de pasar datos a través del árbol de componentes sin tener que pasar props manualmente en cada nivel.

Supongamos que tienes un contexto llamado **UserContext** que contiene información sobre el usuario actual, como su nombre de usuario y el 
tema preferido. Primero, defines el contexto:

<CodeBlock
  codeString={`
    // UserContext.js
    import { createContext } from 'react';

    const UserContext = createContext();

    export default UserContext;
  `} 
  language='javascript'
/>

Luego, creas un proveedor **UserProvider** para envolver tus componentes y proporcionar el valor del contexto:

<CodeBlock
  codeString={`
    // UserProvider.js
    import React, { useState } from 'react';
    import UserContext from './UserContext';

    const UserProvider = ({ children }) => {
    const [user, setUser] = useState({
        username: 'john_doe',
        theme: 'light',
    });

    return (
        <UserContext.Provider value={{ user, setUser }}>
        {children}
        </UserContext.Provider>
    );
    };

    export default UserProvider;
  `} 
  language='javascript'
/>

En este ejemplo **UserProvider** proporciona el contexto **UserContext** con un valor que incluye el objeto **user** y la función **setUser** para actualizar el estado.

Ahora en tu aplicación principal puedes envolver tus componentes con **UserProvider** para que puedan acceder al contexto:

<CodeBlock
  codeString={`
    // App.js
    import React from 'react';
    import UserProvider from './UserProvider';
    import Navbar from './Navbar';
    import UserProfile from './UserProfile';

    const App = () => {
    return (
        <UserProvider>
        <div>
            <Navbar />
            <UserProfile />
        </div>
        </UserProvider>
    );
    };

    export default App;
  `} 
  language='javascript'
/>

Finalmente en cualquier componente que desee acceder al contexto puedes utilizar useContext para suscribirte a él:

<CodeBlock
  codeString={`
    // Navbar.js
    import React, { useContext } from 'react';
    import UserContext from './UserContext';
    import "../styles.css"

    const Navbar = () => {
        const { user } = useContext(UserContext);

        return (
            <div>
            <p>Username: {user.username}</p>
            </div>
        );
    };

    export default Navbar;
  `} 
  language='javascript'
/>

En este caso **Navbar** utiliza **useContext(UserContext)** para acceder al valor proporcionado por **UserProvider**. 
Ahora puedes acceder al objeto **user** y mostrar el nombre de usuario en el componente **Navbar**. 
Este enfoque elimina la necesidad de pasar props a través de varios niveles de componentes y facilita la gestión del estado global en tu aplicación.