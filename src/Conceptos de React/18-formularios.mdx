import { StickyNav,InteractiveCodeBlock, DynamicSandpack, SandPack } from '../components-mdx/index.js';
import "../styles.css"

# Formularios

En **React** los formularios son una parte fundamental para interactuar con los usuarios y recopilar información. 
Los formularios en React siguen un flujo de datos **unidireccional** lo que significa que el estado de React es la única fuente principal. 

### Conceptos Clave

- **Estado del Componente:** Utiliza el estado [useState](/docs/conceptos-de-react-04-hooks--docs) para almacenar los datos del formulario.
- **Manejo de Eventos:** Utiliza funciones para manejar eventos como **onChange** o **onSubmit**.
- **Controlled Components:** En React los elementos de formulario como **input**, **textarea**, y **select** mantienen su propio estado. 
Sin embargo en un formulario controlado el estado de React es la fuente única de verdad.

### Ejemplos:
-  Formulario Simple con un Campo de Entrada:

<SandPack 
files={{    
"/App.js": 
`import React from "react";
import SimpleForm from "./SimpleForm.js";

 const App = ( ) => {
   return (
    <div>
      <h1 style={{margin: '16px'}}>Formulario Simple</h1>
      <SimpleForm />
    </div>
  ) 
 }

export default App;`, 

"/SimpleForm.js":
`import React, { useState } from 'react';
import TextField from '@mui/material/TextField';
import Button from '@mui/material/Button';
import Card from '@mui/material/Card';
import CardContent from '@mui/material/CardContent';
import Typography from '@mui/material/Typography';

const SimpleForm = () => {
  const [inputValue, setInputValue] = useState('');
  const [submitted, setSubmitted] = useState(false);
  const [submittedValue, setSubmittedValue] = useState('');

  const handleInputChange = (e) => {
    setInputValue(e.target.value);
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    setSubmitted(true);
    setSubmittedValue(inputValue);
  };

  return (
    <div style={{ margin: '16px' }}>
      <form className="simple-form" onSubmit={handleSubmit}>
        <TextField
          id="nameInput"
          label="Nombre"
          variant="standard"
          value={inputValue}
          onChange={handleInputChange}
        />
        <div>
          <Button sx={{ marginTop: 2, left: '7rem' }} type="submit" variant="contained" color="primary">
            Enviar
          </Button>
        </div>
      </form>
      {submitted && (
        <Card sx={{ marginTop: 2, maxWidth: 275, boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>
          <CardContent>
            <Typography gutterBottom variant="h6" component="div">
              Valor enviado:
            </Typography>
            <Typography variant="body2" color="text.secondary">
              {submittedValue}
            </Typography>
          </CardContent>
        </Card>
      )}
    </div>
  );
};

export default SimpleForm;`,
}}
/>

- Formulario con Varios Campos y Manejo Dinámico:

<SandPack 
files={{    
"/App.js": 
`import React from "react";
import ComplexForm from "./ComplexForm.js";

 const App = ( ) => {
   return (
    <div>
      <h1 style={{margin: '16px'}}>Formulario Complejo</h1>
      <ComplexForm />
    </div>
  ) 
 }

export default App;`, 

"/ComplexForm.js":
`import React, { useState } from 'react';
import TextField from '@mui/material/TextField';
import Button from '@mui/material/Button';
import Card from '@mui/material/Card';
import CardContent from '@mui/material/CardContent';
import Typography from '@mui/material/Typography';

const ComplexForm = () => {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
  });

  const [formSubmissions, setFormSubmissions] = useState([]);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData({ ...formData, [name]: value });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    setFormSubmissions([...formSubmissions, formData]);
    setFormData({ name: '', email: '', password: '' });
  };

  return (
    <div className="complex-form-container">
      <form onSubmit={handleSubmit} className="complex-form">
        <div>
            <TextField
            id="nameInput"
            label="Nombre"
            type="text"
            name="name"
            value={formData.name}
            onChange={handleInputChange}
            sx={{margin: 2}}
            />
        </div>
        <div>
            <TextField
            id="emailInput"
            label="Correo Electrónico"
            type="email"
            name="email"
            value={formData.email}
            onChange={handleInputChange}
            sx={{margin: 2}}
            />
        </div>
        <div>
            <TextField
            id="passwordInput"
            label="Contraseña"
            type="password"
            name="password"
            value={formData.password}
            onChange={handleInputChange}
            sx={{margin: 2}}
            />
        </div>
        <Button type="submit" variant="contained" color="primary" sx={{margin: 2, left: 133}}>
          Enviar
        </Button>
      </form>
      <div style={{margin: '16px'}}>
        <h2>Historial de Envíos</h2>
        {formSubmissions.map((submission, index) => (
          <Card key={index} sx={{ marginTop: 2, maxWidth: 380, boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>
            <CardContent>
              <Typography gutterBottom variant="h5" component="div">
                Envío {index + 1}:
              </Typography>
              <ul>
                {Object.entries(submission).map(([key, value]) => (
                  <li key={key}>
                    <strong>{key}:</strong> {value}
                  </li>
                ))}
              </ul>
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
};

export default ComplexForm;`,
}}
/>