import { CodeBlock, StickyNav, DynamicSandpack } from '../components-mdx/index.js';
import "../styles.css"


<StickyNav
  links={[
    { id: 'seccion1', text: 'Manejo de click' },
    { id: 'seccion2', text: 'Manejo de cambio de entrada' },
    { id: 'seccion3', text: 'Manejo de eventos con argumentos' },
    { id: 'seccion4', text: 'Manejo de eventos condicional' },
  ]}
/>

# Event Handling

En React se refiere al proceso de gestionar y responder a eventos que ocurren en la interfaz de usuario de una aplicación React. 
Los eventos pueden ser desencadenados por diversas acciones del usuario como hacer click en un botón, escribir en un campo de entrada, mover el mouse, etc. 
En React el manejo de eventos se realiza mediante funciones de manejo de eventos y JSX.

## Definiciones clave

- **Evento:**
Un suceso específico que ocurre en la interfaz de usuario como un click, cambio de valor, o movimiento del mouse.

- **Manejador de eventos:**
Una función que se ejecuta en respuesta a un evento específico. En React estos manejadores de eventos se definen como funciones de JavaScript.

### Ejemplo:

<a id="seccion1"></a>
**Manejo de click:**

<CodeBlock
  codeString={
`import React from 'react';

const ButtonClick = () => {
  const handleClick = () => {
    console.log("Hiciste clic en el botón");
  };

  return (
    <button onClick={handleClick}>Clic aquí</button>
  );
};

export default ButtonClick;`}   
language='javascript'  
/>

<DynamicSandpack
dynamicFiles={{    
"/App.js": 
`import React from "react";
import ButtonClick from "./ButtonClick.js";

const App = () => {
  return (
    <div>
      <ButtonClick />
    </div>
  );
};

export default App;`,

"/ButtonClick.js":
`import React from 'react';
import './styles.css';

const ButtonClick = () => {
  const handleClick = () => {
    console.log("Hiciste clic en el botón");
  };

  return (
    <button className="button" onClick={handleClick}>Clic aquí</button>
  );
};

export default ButtonClick;`,

"/styles.css": 
`.button {
  font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  margin-bottom: 28px;
  padding: 11px 20px;
  background-color: #1ea7fd;
  color: white
}`,
  }}
  
  dynamicVisibleFiles={["/App.js", "/ButtonClick.js", "/styles.css"]}
  showConsole
/>

En este ejemplo la función handleClick se ejecutará cuando el botón sea clickeado.

<a id="seccion2"></a>
### Manejo de cambio de entrada:

El manejo de cambio de entrada se refiere a cómo un componente reacciona y se actualiza cuando sus datos de entrada cambian.

<CodeBlock
  codeString={`
    import React, { useState } from 'react';

    const ControlledForm = () => {
    const [inputValue, setInputValue] = useState('');

    const handleChange = (event) => {
        setInputValue(event.target.value);
    };

    return (
        <div>
        <input
            type="text"
            value={inputValue}
            onChange={handleChange}
            placeholder="Escribe algo"
        />
        <p>{inputValue}</p>
        </div>
    );
    };

    export default ControlledForm;  
  `} 
  language='javascript'  
/>

<DynamicSandpack
dynamicFiles={{    
"/App.js": 
`import React from "react";
import ControlledForm from "./ControlledForm.js";

const App = () => {
  return (
    <div>
      <ControlledForm />
    </div>
  );
};

export default App;`,

"/ControlledForm.js":
`import React, { useState } from 'react';
import './styles.css';

    const ControlledForm = () => {
    const [inputValue, setInputValue] = useState('');

    const handleChange = (event) => {
        setInputValue(event.target.value);
    };

    return (
        <div className="input-container">
        <input
            type="text"
            value={inputValue}
            onChange={handleChange}
            placeholder="Escribe algo"
            className="custom-input"
        />
        <div className="card">
          <p>{inputValue}</p>
        </div>
        </div>
    );
    };

    export default ControlledForm;`,

"/styles.css": 
`.input-container {
  text-align: center;
  margin: 20px;
  display: flex;
  flex-direction: column;
}

.custom-input {
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 5px;
  outline: none;
}

.card {
  display: flex;  
  height: 200px;
  width: 300px;
  border: 1px solid #ddd;
  border-radius: 8px;
  margin-top: 16px;
  padding: 16px;
  overflow: hidden;
}

.card p {
  margin: initial;
}`,
  }}
  
  dynamicVisibleFiles={["/App.js", "/ControlledForm.js", "/styles.css"]}
/>

En este ejemplo el componente **"ControlledForm"** contiene un campo de entrada **(input)**. La función **"handleChange"** se ejecuta cada vez que el usuario escribe algo en el 
campo de entrada actualizando el estado **"inputValue"** con el nuevo valor del campo.

<a id="seccion3"></a>
### Manejo de eventos con argumentos

En React pasar argumentos a manejadores de eventos es un proceso común que permite enviar información adicional al manipular un evento como hacer click en un botón o cambiar el 
valor de un campo de entrada

<CodeBlock
  codeString={`
  import React from 'react';

  const MiComponente = ( ) => {
    const handleButtonClick = (param) => {
      console.log(\`Hiciste clic con el parámetro: \${param}\`);
    };

    return (
      <button onClick={( ) => handleButtonClick("miArgumento")}>
        Clic aquí
      </button>
    );
  };

  export default MiComponente;

  `} 
  language='javascript'
/>

<DynamicSandpack
dynamicFiles={{    
"/App.js": 
`import React from "react";
import MyComponent from "./MyComponent.js";

const App = () => {
  return (
    <div>
      <MyComponent />
    </div>
  );
};

export default App;`,

"/MyComponent.js":
`import React from 'react';
import './styles.css';

  const MyComponent = ( ) => {
    const handleButtonClick = (param) => {
      console.log(\`Hiciste clic con el parámetro: \${param}\`);
    };

    return (
      <button className="button" onClick={( ) => handleButtonClick("miArgumento")}>
        Clic aquí
      </button>
    );
  };

  export default MyComponent;`,

  "/styles.css": 
`.button {
  font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  margin-bottom: 28px;
  padding: 11px 20px;
  background-color: #FFA500;
  color: white
}`,
  }}
  
  dynamicVisibleFiles={["/App.js", "/MyComponent.js"]}
  showConsole
/>

Podemos usar una función de flecha dentro del onClick si necesitas pasar parámetros adicionales.

<a id="seccion4"></a>
### Manejo de eventos condicional

En React los eventos se pueden manejar de manera condicional según el estado del componente, las props o cualquier otra lógica específica de la aplicación.

<CodeBlock
  codeString={`
    import React, { useState } from 'react';

    function ToggleComponent() {
    const [isVisible, setIsVisible] = useState(true);

    const toggleVisibility = () => {
        setIsVisible(!isVisible);
    };
        return (
            <div>
              {!isVisible && <p>Este párrafo es visible</p>}
              <button onClick={toggleVisibility}>           
                {isVisible ? 'Ver' : 'Ocultar'}
              </button>
            </div>
        );
    }
  `} 
  language='javascript'
/>

<DynamicSandpack
dynamicFiles={{    
"/App.js": 
`import React from "react";
import ToggleComponent from "./ToggleComponent.js";

const App = () => {
  return (
    <div>
      <ToggleComponent />
    </div>
  );
};

export default App;`,

"/ToggleComponent.js":
`import React, { useState } from 'react';
import './styles.css';

function ToggleComponent() {
  const [isVisible, setIsVisible] = useState(true);

  const toggleVisibility = () => {
    setIsVisible(!isVisible);
  };

  return (
    <div className="container">
      {!isVisible && <p className="custom-text" > Este párrafo es visible </p>}
      <button className={isVisible ? 'button-show' : 'button-hidden'} onClick={toggleVisibility}>           
        {isVisible ? 'Ver' : 'Ocultar'}
      </button>
    </div>
  );
}

export default ToggleComponent;`,

"/styles.css": 
`.container {
  text-align: center;
  margin: 20px;
}

.custom-text {
  color: green;
}

.button-show {
  font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  margin-bottom: 28px;
  padding: 11px 20px;
  background-color: #00FF00;
  color: white
}

.button-hidden {
  font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  margin-bottom: 28px;
  padding: 11px 20px;
  background-color: #FF6E67;
  color: white
}`,
  }}
  
  dynamicVisibleFiles={["/App.js", "/ToggleComponent.js", "/styles.css"]}
/>

Aquí el evento onClick cambia la visibilidad del párrafo dependiendo del estado si es true o false.

Estos son solo ejemplos básicos pero muestran cómo **React** maneja eventos y cómo podemos definir funciones de manejo de eventos para responder a las acciones del usuario 
en nuestra aplicación.