import { StickyNav,InteractiveCodeBlock } from '../components-mdx/index.js';
import "../styles.css"

# Formularios

En React los formularios son una parte fundamental para interactuar con los usuarios y recopilar información. 
Los formularios en React siguen un flujo de datos unidireccional lo que significa que el estado de React es la única fuente principal. 

### Conceptos Clave

- **Estado del Componente:** Utiliza el estado [useState](/docs/conceptos-de-react-04-hooks--docs) para almacenar los datos del formulario.
- **Manejo de Eventos:** Utiliza funciones para manejar eventos como **onChange** o **onSubmit**.
- **Controlled Components:** En React los elementos de formulario como **input**, **textarea**, y **select** mantienen su propio estado. 
Sin embargo en un formulario controlado el estado de React es la fuente única de verdad.

### Ejemplos:
-  Formulario Simple con un Campo de Entrada:

<InteractiveCodeBlock codeString={`
    const SimpleForm = () => {
        const [inputValue, setInputValue] = React.useState('');
        const [submitted, setSubmitted] = React.useState(false);
        const [submittedValue, setSubmittedValue] = React.useState('');

        const handleInputChange = (e) => {
            setInputValue(e.target.value);
        };

        const handleSubmit = (e) => {
            e.preventDefault();
            // Aquí puedes realizar acciones con el valor del formulario
            setSubmitted(true);
            setSubmittedValue(inputValue);
        };

        return (
            <form onSubmit={handleSubmit}>
                <label>
                    Nombre:
                     <br />
                    <input type="text" value={inputValue} onChange={handleInputChange} />
                </label>
                  <br />
                  <br />
                <button type="submit">Enviar</button>
                {submitted && <p>Valor enviado: {submittedValue}</p>}
            </form>
        );
    };

  render(<SimpleForm  />)
`} 
language="javascript" 
showCodeEditor
noInline
/>

- Formulario con Varios Campos y Manejo Dinámico:

<InteractiveCodeBlock codeString={`
  const ComplexForm = () => {
    const [formData, setFormData] = React.useState({
        name: '',
        email: '',
        password: '',
    });

    const [formSubmissions, setFormSubmissions] = React.useState([]);

    const handleInputChange = (e) => {
        const { name, value } = e.target;
        setFormData({ ...formData, [name]: value });
    };

    const handleSubmit = (e) => {
        e.preventDefault();
        // Agregar datos del formulario a la lista de envíos
        setFormSubmissions([...formSubmissions, formData]);
        // Limpiar el formulario
        setFormData({ name: '', email: '', password: '' });
    };

    return (
        <form onSubmit={handleSubmit}>
        <label>
            Nombre:
             <br />
            <input 
                type="text" 
                name="name" 
                value={formData.name} 
                onChange={handleInputChange} 
            />
        </label>
        <br />
        <label>
            Correo Electrónico:
             <br />
            <input 
                type="email" 
                name="email" 
                value={formData.email} 
                onChange={handleInputChange} 
            />
        </label>
        <label>
            <br />
            Contraseña:
             <br />
            <input 
                type="password" 
                name="password" 
                value={formData.password} 
                onChange={handleInputChange} 
            />
        </label>
         <br />
        <button type="submit">Enviar</button>
        <h2>Historial de Envíos</h2>
      <ul>
        {formSubmissions.map((submission, index) => (
          <li key={index}>
            <strong>Envío {index + 1}:</strong> {JSON.stringify(submission)}
          </li>
        ))}
      </ul>
        </form>
    );
};

render(<ComplexForm />)
`} 
language="javascript" 
showCodeEditor
noInline
/>